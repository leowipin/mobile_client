<ion-header [translucent]="true">
  <ion-toolbar>
    <div class="header">
      <ion-img class="back-arrow" src="assets/img/icono-para-atras.png" routerLink="/tabs/perfil/editarperfil"></ion-img>
      <ion-img class="logosepro" src="assets/img/logosepro.png"> </ion-img>
      <div class="line"></div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="main-grid">
    <ion-row class="header bold16">Cambiar contraseña</ion-row>
    <ion-grid class="enter-email">
      <ion-row class="title-email medium12">Cambia tu constraseña</ion-row>
      <ion-row class="content-email openMedium13">
        Recibirás un correo de confirmación a la dirección de correo asociada a tu cuenta. Por favor, revisa tu bandeja de entrada 
        y en caso de no encontrarlo, verifica también la carpeta de correo no deseado. Es importante que confirmes el correo
         correspondiente para completar el cambio de contraseña.
      </ion-row>
      <form [formGroup]="changePasswordForm" (ngSubmit)="submitForm()">
        <ion-row class="input">
            <ion-input  type="{{showPassword ? 'text' : 'password'}}" formControlName="password" minlength="4" class="input-e openMedium15" placeholder="Contraseña actual">
            </ion-input>
            <ion-icon [name]="showPassword ? 'eye-outline' : 'eye-off-outline'" (click)="togglePassword()" class="eye-ic"></ion-icon>
            <div *ngIf="changePasswordForm.get('password').invalid && (changePasswordForm.get('password').dirty || changePasswordForm.get('password').touched)" class="error-message">
              <div *ngIf="changePasswordForm.get('password').hasError('required')" class="openItalic10">Ingrese una contraseña</div>
              <div *ngIf="changePasswordForm.get('password').hasError('minlength')" class="openItalic10">La contraseña debe contener mínimo 4 caracteres</div>
            </div>
        </ion-row>
        <ion-row class="input">
            <ion-input  type="{{showNewPassword ? 'text' : 'password'}}" formControlName="newPassword" minlength="4" class="input-e openMedium15" placeholder="Contraseña nueva">
            </ion-input>
            <ion-icon [name]="showNewPassword ? 'eye-outline' : 'eye-off-outline'" (click)="toggleNewPassword()" class="eye-ic"></ion-icon>
            <div *ngIf="changePasswordForm.get('newPassword').invalid && (changePasswordForm.get('newPassword').dirty || changePasswordForm.get('newPassword').touched)" class="error-message">
              <div *ngIf="changePasswordForm.get('newPassword').hasError('required')" class="openItalic10">Ingrese una contraseña</div>
              <div *ngIf="changePasswordForm.get('newPassword').hasError('minlength')" class="openItalic10">La contraseña debe contener mínimo 4 caracteres</div>
            </div>
        </ion-row>
        <ion-row class="btn"> <button class="green-button" type="submit" [disabled]="!changePasswordForm.valid"><span class="medium12">Enviar</span></button> </ion-row>
    </form>
    </ion-grid>
  </ion-grid>
</ion-content>
