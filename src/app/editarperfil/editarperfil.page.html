<ion-header [translucent]="true">
  <ion-toolbar>
    <div class="header">
      <ion-img class="back-arrow" src="assets/img/icono-para-atras.png" (click)="presentAlertEditar()" *ngIf="isProfileInformation"></ion-img>
      <ion-img class="back-arrow" src="assets/img/icono-para-atras.png" (click)="backToOrder()" *ngIf="!isProfileInformation"> </ion-img>
      <ion-img class="logosepro" src="assets/img/logosepro.png"> </ion-img>
      <div class="line"></div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content class="main-c">
  <ion-grid class="main-grid">
    <ion-grid class="detail-head">
      <ion-row class="detail-name bold14" *ngIf="isProfileInformation">Editar perfil</ion-row>
      <ion-row class="detail-name bold14" *ngIf="!isProfileInformation">Datos de facturación</ion-row>
      <ion-row class="pictureGuard">
        <div class="cont-imgs">
          <ion-img src="assets/img/para_foto.png" class="frame"></ion-img>
          <ion-img class="back-img" [ngStyle]="{'background-image': 'url(' + photo + ')'}"> *ngIf="photo"></ion-img>
          <ion-img src="assets/img/editar_foto.png" class="edit" (click)="openOptionSelection()" *ngIf="isProfileInformation"></ion-img>
        </div>
      </ion-row>
    </ion-grid>
    <form [formGroup]="ionicForm" validate>
      <ion-grid class="info-grid">
        <ion-grid class="input-data">
          <ion-row class="input">
              <ion-label class="regular12 lbl">Nombre</ion-label>
              <ion-item lines="full">    
                <ion-input formControlName="name" type="text" class="light12" required></ion-input>
              </ion-item>
              <span class="error ion-padding" *ngIf="isSubmitted && errorControl.name.errors?.required">
                Es necesario al menos un nombre.
              </span>
              <span class="error ion-padding" *ngIf="isSubmitted && errorControl.name.errors?.minlength">
                Su nombre debe tener al menos 2 caracteres.
              </span>
              <span class="error ion-padding" *ngIf="isSubmitted && errorControl.name.errors?.pattern">
                Ingrese un nombre válido.
              </span>
          </ion-row>
          <ion-row class="input">
            <ion-label class="regular12 lbl">Apellido</ion-label>
            <ion-item lines="full">    
              <ion-input formControlName="lastname" type="text" class="light12" required></ion-input>
            </ion-item>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.lastname.errors?.required">
              Es necesario al menos un apellido.
            </span>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.lastname.errors?.minlength">
              Su apellido debe tener al menos 2 caracteres.
            </span>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.lastname.errors?.pattern">
              Ingrese un apellido válido.
            </span>
          </ion-row>
          <ion-row class="input">
            <ion-label class="regular12 lbl">Cédula de identidad</ion-label>
            <ion-item lines="full">    
              <ion-input formControlName="cedula" type="tel" class="light12" maxlength="10" required></ion-input>
            </ion-item>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.cedula.errors?.required">
              Es necesario ingresar su cédula de identidad.
            </span>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.cedula.errors?.pattern">
              Ingrese una cedula valida.
            </span>
          </ion-row>
          <ion-row class="input">
            <ion-label class="regular12 lbl">Número de celular</ion-label>
            <ion-item lines="full">    
              <ion-input formControlName="mobile" type="tel" class="light12" minlength="10" maxlength="10" required inputmode="numeric" ></ion-input>
            </ion-item>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.mobile.errors?.required">
              Es necesario un número de celular.
            </span>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.mobile.errors?.pattern">
              Ingrese un número de celular valido.
            </span>
          </ion-row>
          <ion-row class="input" *ngIf="isProfileInformation">
            <ion-label class="regular12 lbl">Fecha de nacimiento</ion-label>
            <ion-item lines="full">    
              <ion-input formControlName="bday" type="text" class="light12" placeholder="AAAA-MM-DD" required></ion-input>
            </ion-item>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.bday.errors?.required">
              Ingrese su fecha de nacimiento
            </span>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.bday.errors?.pattern">
              Ingrese una fecha válida
            </span>
          </ion-row>
          <ion-row class="input">
            <ion-label class="regular12 lbl">Dirección</ion-label>
            <ion-item lines="full">    
              <ion-input formControlName="direccion" type="text" class="light12" required></ion-input>
            </ion-item>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.direccion.errors?.required">
              Es necesario que indique su dirección.
            </span>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.direccion.errors?.minlength">
              Su nombre debe tener al menos 2 caracteres. 
            </span>
          </ion-row>
          <ion-row class="input" *ngIf="isProfileInformation">
            <ion-label class="regular12 lbl">Género</ion-label>
            <ion-item lines="full">
              <ion-select formControlName="gender" class="light12">
                <ion-select-option value="masculino" class="light12">masculino</ion-select-option>
                <ion-select-option value="femenino" class="light12">femenino</ion-select-option>
                <ion-select-option value="indefinido" class="light12">indefinido</ion-select-option>
              </ion-select>
            </ion-item>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.gender.errors?.required">
              Este campo es requerido.
            </span>
          </ion-row>

          <ion-row class="input" *ngIf="isProfileInformation">
            <ion-label class="regular12 lbl">Correo eléctronico</ion-label>
            <div class="email-input">
              <ion-item lines="full">
                <div class="light12">{{email}}</div>
              </ion-item>
            </div>
          </ion-row>

          <ion-row class="input" *ngIf="!isProfileInformation">
            <ion-label class="regular12 lbl">Correo eléctronico</ion-label>
            <ion-item lines="full">
              <ion-input formControlName="email" type="email" class="light12" required></ion-input>
            </ion-item>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.email.errors?.required">
              Es necesario ingresar un correo válido.
            </span>
            <span class="error ion-padding" *ngIf="isSubmitted && errorControl.email.errors?.pattern">
              Ingrese un correo válido.
            </span>
          </ion-row>

          <ion-row class="dat-btnw"><button class="white-button" *ngIf="isProfileInformation" (click)="changeEmailModal()"><span class="medium12">Cambiar correo electrónico</span></button></ion-row>
          <ion-row class="dat-btnw"><button class="white-button" *ngIf="isProfileInformation" (click)="changePasswordModal()"><span class="medium12">Cambiar contraseña</span></button></ion-row>
          <ion-row class="dat-btng"><button class="green-button" *ngIf="isProfileInformation" (click)="submitForm('guardar')"><span class="medium12">Guardar</span></button></ion-row>
          <ion-row class="dat-btnr"><button class="red-button" *ngIf="isProfileInformation" (click)="deleteAccountModal()" disabled><span class="medium12">Eliminar cuenta</span></button></ion-row>
          <ion-row class="dat-btnr"><button class="green-button" *ngIf="!isProfileInformation" (click)="submitForm('continuar')"><span class="medium12">Continuar</span></button></ion-row>
        </ion-grid>
      </ion-grid>
    </form>
  </ion-grid>
</ion-content>